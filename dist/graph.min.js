(function e(r,t){if(typeof exports==="object"&&typeof module==="object")module.exports=t();else if(typeof define==="function"&&define.amd)define(t);else if(typeof exports==="object")exports["Graph"]=t();else r["Graph"]=t()})(this,function(){return function(e){var r={};function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:false};e[a].call(n.exports,n,n.exports,t);n.loaded=true;return n.exports}t.m=e;t.c=r;t.p="";return t(0)}([function(e,r,t){e.exports=t(2)},,function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});var a=function(e,r){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){var t=[];var a=true;var n=false;var i=undefined;try{for(var s=e[Symbol.iterator](),u;!(a=(u=s.next()).done);a=true){t.push(u.value);if(r&&t.length===r)break}}catch(o){n=true;i=o}finally{try{if(!a&&s["return"])s["return"]()}finally{if(n)throw i}}return t}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}};var n=function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}else{return Array.from(e)}};var i=function(e,r){if(typeof r!=="function"&&r!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof r)}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(r)e.__proto__=r};var s=function(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}};var u=function(){function e(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(r,t,a){if(t)e(r.prototype,t);if(a)e(r,a);return r}}();"use strict";var o=function(){function e(){for(var r=arguments.length,t=Array(r),n=0;n<r;n++){t[n]=arguments[n]}s(this,e);this._vertices=new Map;this._edges=new Map;this._reverseEdges=new Map;this._sources=new Set;this._sinks=new Set;this._vertexCount=0;this._edgeCount=0;var i=true;var u=false;var o=undefined;try{for(var f=t[Symbol.iterator](),v;!(i=(v=f.next()).done);i=true){var h=a(v.value,2);var c=h[0];var l=h[1];if(Array.isArray(c)){var d=a(c,2);var y=d[0];var x=d[1];this.createEdge(y,x,l)}else if(typeof c==="string"){this.addVertex(c,l)}}}catch(g){u=true;o=g}finally{try{if(!i&&f["return"]){f["return"]()}}finally{if(u){throw o}}}}u(e,[{key:"addNewVertex",value:function r(t,a){if(this.hasVertex(t)){throw new e.VertexExistsError(t,this._vertices.get(t))}this._vertices.set(t,a);this._edges.set(t,new Map);this._reverseEdges.set(t,new Set);this._vertexCount+=1;this._sources.add(t);this._sinks.add(t)}},{key:"setVertex",value:function t(r,a){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}this._vertices.set(r,a)}},{key:"ensureVertex",value:function i(e,r){if(!this.hasVertex(e)){this.addNewVertex(e,r)}}},{key:"addVertex",value:function o(e,r){if(this.hasVertex(e)){this.setVertex(e,r)}else{this.addNewVertex(e,r)}}},{key:"removeExistingVertex",value:function f(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}if(this._edges.get(r).size>0||this._reverseEdges.get(r).size>0){throw new e.HasConnectedEdgesError(r)}this._vertices["delete"](r);this._vertexCount-=1;this._sources["delete"](r);this._sinks["delete"](r)}},{key:"destroyExistingVertex",value:function v(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}var t=true;var n=false;var i=undefined;try{for(var s=this.verticesFrom(r)[Symbol.iterator](),u;!(t=(u=s.next()).done);t=true){var o=a(u.value,1);var f=o[0];this.removeEdge(r,f)}}catch(v){n=true;i=v}finally{try{if(!t&&s["return"]){s["return"]()}}finally{if(n){throw i}}}var h=true;var c=false;var l=undefined;try{for(var d=this.verticesTo(r)[Symbol.iterator](),y;!(h=(y=d.next()).done);h=true){var x=a(y.value,1);var g=x[0];this.removeEdge(g,r)}}catch(v){c=true;l=v}finally{try{if(!h&&d["return"]){d["return"]()}}finally{if(c){throw l}}}this.removeExistingVertex(r)}},{key:"removeVertex",value:function h(e){if(this.hasVertex(e)){this.removeExistingVertex(e)}}},{key:"destroyVertex",value:function c(e){if(this.hasVertex(e)){this.destroyExistingVertex(e)}}},{key:"vertexCount",value:function l(){return this._vertexCount}},{key:"hasVertex",value:function d(e){return this._vertices.has(e)}},{key:"vertexValue",value:function y(e){return this._vertices.get(e)}},{key:"addNewEdge",value:function x(r,t,a){if(this.hasEdge(r,t)){throw new e.EdgeExistsError(r,t,this.edgeValue(r,t))}if(!this.hasVertex(r)){if(this.hasVertex(t)){throw new e.VertexNotExistsError(r)}else{throw new e.VertexNotExistsError(r).v(t)}}else if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}this._edges.get(r).set(t,a);this._reverseEdges.get(t).add(r);this._edgeCount+=1;this._sources["delete"](t);this._sinks["delete"](r)}},{key:"createNewEdge",value:function g(r,t,a){if(this.hasEdge(r,t)){throw new e.EdgeExistsError(r,t,this.edgeValue(r,t))}this.ensureVertex(r);this.ensureVertex(t);this.addNewEdge(r,t,a)}},{key:"setEdge",value:function p(r,t,a){if(!this.hasEdge(r,t)){throw new e.EdgeNotExistsError(r,t)}this._edges.get(r).set(t,a)}},{key:"spanEdge",value:function w(r,t,a){if(!this.hasVertex(r)){if(this.hasVertex(t)){throw new e.VertexNotExistsError(r)}else{throw new e.VertexNotExistsError(r).v(t)}}else if(!this.hasVertex(t)){throw new e.VertexNotExistsError(t)}if(!this.hasEdge(r,t)){this.addNewEdge(r,t,a)}}},{key:"addEdge",value:function k(e,r,t){if(this.hasEdge(e,r)){this.setEdge(e,r,t)}else{this.addNewEdge(e,r,t)}}},{key:"ensureEdge",value:function m(e,r,t){if(!this.hasEdge(e,r)){this.createNewEdge(e,r,t)}}},{key:"createEdge",value:function E(e,r,t){if(this.hasEdge(e,r)){this.setEdge(e,r,t)}else{this.createNewEdge(e,r,t)}}},{key:"removeExistingEdge",value:function b(r,t){if(!this.hasEdge(r,t)){throw new e.EdgeNotExistsError(r,t)}this._edges.get(r)["delete"](t);this._reverseEdges.get(t)["delete"](r);this._edgeCount-=1;if(this.inDegree(t)===0){this._sources.add(t)}if(this.outDegree(r)===0){this._sinks.add(r)}}},{key:"removeEdge",value:function _(e,r){if(this.hasEdge(e,r)){this.removeExistingEdge(e,r)}}},{key:"edgeCount",value:function V(){return this._edgeCount}},{key:"hasEdge",value:function S(e,r){return this.hasVertex(e)&&this.hasVertex(r)&&this._edges.has(e)&&this._edges.get(e).has(r)}},{key:"edgeValue",value:function N(e,r){return this.hasEdge(e,r)?this._edges.get(e).get(r):undefined}},{key:"vertices",value:regeneratorRuntime.mark(function C(){var e,r,t,n,i,s,u,o,f;return regeneratorRuntime.wrap(function v(h){while(1)switch(h.prev=h.next){case 0:e=new Set;r=true;t=false;n=undefined;h.prev=4;i=this._vertices[Symbol.iterator]();case 6:if(r=(s=i.next()).done){h.next=17;break}u=a(s.value,2);o=u[0];f=u[1];if(!(this.hasVertex(o)&&!e.has(o))){h.next=14;break}e.add(o);h.next=14;return[o,f];case 14:r=true;h.next=6;break;case 17:h.next=23;break;case 19:h.prev=19;h.t0=h["catch"](4);t=true;n=h.t0;case 23:h.prev=23;h.prev=24;if(!r&&i["return"]){i["return"]()}case 26:h.prev=26;if(!t){h.next=29;break}throw n;case 29:return h.finish(26);case 30:return h.finish(23);case 31:case"end":return h.stop()}},C,this,[[4,19,23,31],[24,,26,30]])})},{key:Symbol.iterator,value:function(){return this.vertices()}},{key:"edges",value:regeneratorRuntime.mark(function T(){var e,r,t,a,n,i,s,u,o,f,v,h,c;return regeneratorRuntime.wrap(function l(d){while(1)switch(d.prev=d.next){case 0:e=new Map;r=true;t=false;a=undefined;d.prev=4;n=this._edges.keys()[Symbol.iterator]();case 6:if(r=(i=n.next()).done){d.next=40;break}s=i.value;if(!e.has(s)){e.set(s,new Set)}u=true;o=false;f=undefined;d.prev=12;v=this._edges.get(s).keys()[Symbol.iterator]();case 14:if(u=(h=v.next()).done){d.next=23;break}c=h.value;if(!(this.hasEdge(s,c)&&!e.get(s).has(c))){d.next=20;break}e.get(s).add(c);d.next=20;return[s,c,this._edges.get(s).get(c)];case 20:u=true;d.next=14;break;case 23:d.next=29;break;case 25:d.prev=25;d.t1=d["catch"](12);o=true;f=d.t1;case 29:d.prev=29;d.prev=30;if(!u&&v["return"]){v["return"]()}case 32:d.prev=32;if(!o){d.next=35;break}throw f;case 35:return d.finish(32);case 36:return d.finish(29);case 37:r=true;d.next=6;break;case 40:d.next=46;break;case 42:d.prev=42;d.t2=d["catch"](4);t=true;a=d.t2;case 46:d.prev=46;d.prev=47;if(!r&&n["return"]){n["return"]()}case 49:d.prev=49;if(!t){d.next=52;break}throw a;case 52:return d.finish(49);case 53:return d.finish(46);case 54:case"end":return d.stop()}},T,this,[[4,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])})},{key:"verticesFrom",value:function R(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}return this._verticesFrom(r)}},{key:"_verticesFrom",value:regeneratorRuntime.mark(function M(e){var r,t,a,n,i,s,u;return regeneratorRuntime.wrap(function o(f){while(1)switch(f.prev=f.next){case 0:r=new Set;t=true;a=false;n=undefined;f.prev=4;i=this._edges.get(e).keys()[Symbol.iterator]();case 6:if(t=(s=i.next()).done){f.next=15;break}u=s.value;if(!(this.hasEdge(e,u)&&!r.has(u))){f.next=12;break}r.add(u);f.next=12;return[u,this._vertices.get(u),this._edges.get(e).get(u)];case 12:t=true;f.next=6;break;case 15:f.next=21;break;case 17:f.prev=17;f.t3=f["catch"](4);a=true;n=f.t3;case 21:f.prev=21;f.prev=22;if(!t&&i["return"]){i["return"]()}case 24:f.prev=24;if(!a){f.next=27;break}throw n;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},M,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesTo",value:function F(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}return this._verticesTo(r)}},{key:"_verticesTo",value:regeneratorRuntime.mark(function P(e){var r,t,a,n,i,s,u;return regeneratorRuntime.wrap(function o(f){while(1)switch(f.prev=f.next){case 0:r=new Set;t=true;a=false;n=undefined;f.prev=4;i=this._reverseEdges.get(e)[Symbol.iterator]();case 6:if(t=(s=i.next()).done){f.next=15;break}u=s.value;if(!(this.hasEdge(u,e)&&!r.has(u))){f.next=12;break}r.add(u);f.next=12;return[u,this._vertices.get(u),this._edges.get(u).get(e)];case 12:t=true;f.next=6;break;case 15:f.next=21;break;case 17:f.prev=17;f.t4=f["catch"](4);a=true;n=f.t4;case 21:f.prev=21;f.prev=22;if(!t&&i["return"]){i["return"]()}case 24:f.prev=24;if(!a){f.next=27;break}throw n;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},P,this,[[4,17,21,29],[22,,24,28]])})},{key:"verticesWithPathFrom",value:function j(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}return this._verticesWithPathFrom(r,new Set)}},{key:"_verticesWithPathFrom",value:regeneratorRuntime.mark(function A(e,r){var t,a,n,i,s,u;return regeneratorRuntime.wrap(function o(f){while(1)switch(f.prev=f.next){case 0:t=true;a=false;n=undefined;f.prev=3;i=this._edges.get(e).keys()[Symbol.iterator]();case 5:if(t=(s=i.next()).done){f.next=15;break}u=s.value;if(!(this.hasEdge(e,u)&&!r.has(u))){f.next=12;break}r.add(u);f.next=11;return[u,this._vertices.get(u)];case 11:return f.delegateYield(this._verticesWithPathFrom(u,r),"t5",12);case 12:t=true;f.next=5;break;case 15:f.next=21;break;case 17:f.prev=17;f.t6=f["catch"](3);a=true;n=f.t6;case 21:f.prev=21;f.prev=22;if(!t&&i["return"]){i["return"]()}case 24:f.prev=24;if(!a){f.next=27;break}throw n;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},A,this,[[3,17,21,29],[22,,24,28]])})},{key:"verticesWithPathTo",value:function D(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}return this._verticesWithPathTo(r,new Set)}},{key:"_verticesWithPathTo",value:regeneratorRuntime.mark(function W(e,r){var t,a,n,i,s,u;return regeneratorRuntime.wrap(function o(f){while(1)switch(f.prev=f.next){case 0:t=true;a=false;n=undefined;f.prev=3;i=this._reverseEdges.get(e)[Symbol.iterator]();case 5:if(t=(s=i.next()).done){f.next=15;break}u=s.value;if(!(this.hasEdge(u,e)&&!r.has(u))){f.next=12;break}r.add(u);f.next=11;return[u,this._vertices.get(u)];case 11:return f.delegateYield(this._verticesWithPathTo(u,r),"t7",12);case 12:t=true;f.next=5;break;case 15:f.next=21;break;case 17:f.prev=17;f.t8=f["catch"](3);a=true;n=f.t8;case 21:f.prev=21;f.prev=22;if(!t&&i["return"]){i["return"]()}case 24:f.prev=24;if(!a){f.next=27;break}throw n;case 27:return f.finish(24);case 28:return f.finish(21);case 29:case"end":return f.stop()}},W,this,[[3,17,21,29],[22,,24,28]])})},{key:"sources",value:regeneratorRuntime.mark(function z(){var e,r,t,a,n,i,s;return regeneratorRuntime.wrap(function u(o){while(1)switch(o.prev=o.next){case 0:e=new Set;r=true;t=false;a=undefined;o.prev=4;n=this._sources[Symbol.iterator]();case 6:if(r=(i=n.next()).done){o.next=15;break}s=i.value;if(!(this.hasVertex(s)&&!e.has(s))){o.next=12;break}e.add(s);o.next=12;return[s,this.vertexValue(s)];case 12:r=true;o.next=6;break;case 15:o.next=21;break;case 17:o.prev=17;o.t9=o["catch"](4);t=true;a=o.t9;case 21:o.prev=21;o.prev=22;if(!r&&n["return"]){n["return"]()}case 24:o.prev=24;if(!t){o.next=27;break}throw a;case 27:return o.finish(24);case 28:return o.finish(21);case 29:case"end":return o.stop()}},z,this,[[4,17,21,29],[22,,24,28]])})},{key:"sinks",value:regeneratorRuntime.mark(function O(){var e,r,t,a,n,i,s;return regeneratorRuntime.wrap(function u(o){while(1)switch(o.prev=o.next){case 0:e=new Set;r=true;t=false;a=undefined;o.prev=4;n=this._sinks[Symbol.iterator]();case 6:if(r=(i=n.next()).done){o.next=15;break}s=i.value;if(!(this.hasVertex(s)&&!e.has(s))){o.next=12;break}e.add(s);o.next=12;return[s,this.vertexValue(s)];case 12:r=true;o.next=6;break;case 15:o.next=21;break;case 17:o.prev=17;o.t10=o["catch"](4);t=true;a=o.t10;case 21:o.prev=21;o.prev=22;if(!r&&n["return"]){n["return"]()}case 24:o.prev=24;if(!t){o.next=27;break}throw a;case 27:return o.finish(24);case 28:return o.finish(21);case 29:case"end":return o.stop()}},O,this,[[4,17,21,29],[22,,24,28]])})},{key:"vertices_topologically",value:regeneratorRuntime.mark(function I(){var r,t,n,i,s,u,o,f,v,h,c,l;return regeneratorRuntime.wrap(function d(y){while(1)switch(y.prev=y.next){case 0:s=function x(s){var u,o,f,v,h,c,l,d,y;return regeneratorRuntime.wrap(function g(r){while(1)switch(r.prev=r.next){case 0:t.push(s);u=t.indexOf(s);if(!(u!==t.length-1)){r.next=5;break}o=t.slice(u+1).reverse();throw new e.CycleError(o);case 5:if(n.has(s)){r.next=36;break}f=true;v=false;h=undefined;r.prev=9;c=i.verticesTo(s)[Symbol.iterator]();case 11:if(f=(l=c.next()).done){r.next=18;break}d=a(l.value,1);y=d[0];return r.delegateYield(x(y),"t11",15);case 15:f=true;r.next=11;break;case 18:r.next=24;break;case 20:r.prev=20;r.t12=r["catch"](9);v=true;h=r.t12;case 24:r.prev=24;r.prev=25;if(!f&&c["return"]){c["return"]()}case 27:r.prev=27;if(!v){r.next=30;break}throw h;case 30:return r.finish(27);case 31:return r.finish(24);case 32:if(!i.hasVertex(s)){r.next=35;break}r.next=35;return[s,i._vertices.get(s)];case 35:n.add(s);case 36:t.pop();case 37:case"end":return r.stop()}},r[0],this,[[9,20,24,32],[25,,27,31]])};r=[s].map(regeneratorRuntime.mark);t=[];n=new Set;i=this;u=true;o=false;f=undefined;y.prev=8;v=this.vertices()[Symbol.iterator]();case 10:if(u=(h=v.next()).done){y.next=18;break}c=a(h.value,1);l=c[0];if(n.has(l)){y.next=15;break}return y.delegateYield(s(l),"t13",15);case 15:u=true;y.next=10;break;case 18:y.next=24;break;case 20:y.prev=20;y.t14=y["catch"](8);o=true;f=y.t14;case 24:y.prev=24;y.prev=25;if(!u&&v["return"]){v["return"]()}case 27:y.prev=27;if(!o){y.next=30;break}throw f;case 30:return y.finish(27);case 31:return y.finish(24);case 32:case"end":return y.stop()}},I,this,[[8,20,24,32],[25,,27,31]])})},{key:"clearEdges",value:function Y(){var e=true;var r=false;var t=undefined;try{for(var n=this.edges()[Symbol.iterator](),i;!(e=(i=n.next()).done);e=true){var s=a(i.value,2);var u=s[0];var o=s[1];this.removeEdge(u,o)}}catch(f){r=true;t=f}finally{try{if(!e&&n["return"]){n["return"]()}}finally{if(r){throw t}}}}},{key:"clear",value:function B(){var e=true;var r=false;var t=undefined;try{for(var n=this.vertices()[Symbol.iterator](),i;!(e=(i=n.next()).done);e=true){var s=a(i.value,1);var u=s[0];this.destroyVertex(u)}}catch(o){r=true;t=o}finally{try{if(!e&&n["return"]){n["return"]()}}finally{if(r){throw t}}}}},{key:"equals",value:function G(r,t,n){if(!t){t=function(e,r){return e===r}}if(!n){n=t}if(!(r instanceof e)){return false}if(this.vertexCount()!==r.vertexCount()){return false}if(this.edgeCount()!==r.edgeCount()){return false}var i=true;var s=false;var u=undefined;try{for(var o=this.vertices()[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var v=a(f.value,2);var h=v[0];var c=v[1];if(!r.hasVertex(h)){return false}if(!t(c,r.vertexValue(h),h)){return false}}}catch(l){s=true;u=l}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}var d=true;var y=false;var x=undefined;try{for(var g=this.edges()[Symbol.iterator](),p;!(d=(p=g.next()).done);d=true){var w=a(p.value,3);var k=w[0];var m=w[1];var c=w[2];if(!r.hasEdge(k,m)){return false}if(!n(c,r.edgeValue(k,m),k,m)){return false}}}catch(l){y=true;x=l}finally{try{if(!d&&g["return"]){g["return"]()}}finally{if(y){throw x}}}return true}},{key:"cycle",value:function H(){var e=this;var r=[];var t=new Set;var n=function d(n){var i=r.indexOf(n);if(i>=0){return r.slice(i)}if(t.has(n)){return null}t.add(n);r.push(n);var s=true;var u=false;var o=undefined;try{for(var f=e.verticesFrom(n)[Symbol.iterator](),v;!(s=(v=f.next()).done);s=true){var h=a(v.value,1);var c=h[0];var l=d(c);if(l){return l}}}catch(y){u=true;o=y}finally{try{if(!s&&f["return"]){f["return"]()}}finally{if(u){throw o}}}r.pop()};var i=true;var s=false;var u=undefined;try{for(var o=this.vertices()[Symbol.iterator](),f;!(i=(f=o.next()).done);i=true){var v=a(f.value,1);var h=v[0];var c=n(h);if(c){return c}}}catch(l){s=true;u=l}finally{try{if(!i&&o["return"]){o["return"]()}}finally{if(s){throw u}}}return null}},{key:"hasCycle",value:function q(){return!!this.cycle()}},{key:"path",value:function J(e,r){var t=this;if(!this.hasVertex(e)||!this.hasVertex(r)){return null}var n=[];var i=function s(e){n.push(e);if(t.hasEdge(e,r)){return[].concat(n,[r])}var i=true;var u=false;var o=undefined;try{for(var f=t.verticesFrom(e)[Symbol.iterator](),v;!(i=(v=f.next()).done);i=true){var h=a(v.value,1);var c=h[0];if(n.indexOf(c)===-1){var l=s(c);if(l){return l}}}}catch(d){u=true;o=d}finally{try{if(!i&&f["return"]){f["return"]()}}finally{if(u){throw o}}}n.pop();return null};return i(e)}},{key:"hasPath",value:function K(e,r){return!!this.path(e,r)}},{key:"outDegree",value:function L(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}return this._edges.get(r).size}},{key:"inDegree",value:function Q(r){if(!this.hasVertex(r)){throw new e.VertexNotExistsError(r)}return this._reverseEdges.get(r).size}},{key:"degree",value:function U(e){return this.outDegree(e)+this.inDegree(e)}},{key:"mergeIn",value:function X(e,r,t){if(!r){r=function(e,r){return typeof r==="undefined"?e:r}}if(!t){t=r}var n=true;var i=false;var s=undefined;try{for(var u=e.vertices()[Symbol.iterator](),o;!(n=(o=u.next()).done);n=true){var f=a(o.value,1);var v=f[0];this.addVertex(v,r(this.vertexValue(v),e.vertexValue(v)))}}catch(h){i=true;s=h}finally{try{if(!n&&u["return"]){u["return"]()}}finally{if(i){throw s}}}var c=true;var l=false;var d=undefined;try{for(var y=e.edges()[Symbol.iterator](),x;!(c=(x=y.next()).done);c=true){var g=a(x.value,2);var p=g[0];var w=g[1];this.addEdge(p,w,t(this.edgeValue(p,w),e.edgeValue(p,w),p,w))}}catch(h){l=true;d=h}finally{try{if(!c&&y["return"]){y["return"]()}}finally{if(l){throw d}}}}},{key:"clone",value:function Z(r,t){if(!r){r=function(e){return e}}if(!t){t=r}var a=new e;a.mergeIn(this,function(e,t){return r(t)},function(e,r){return t(r)});return a}},{key:"transitiveReduction",value:function $(e,r){if(!e){e=function(e){return e}}if(!r){r=e}var t=this.clone(e,r);var n=true;var i=false;var s=undefined;try{for(var u=this.vertices()[Symbol.iterator](),o;!(n=(o=u.next()).done);n=true){var f=a(o.value,1);var v=f[0];var h=true;var c=false;var l=undefined;try{for(var d=this.vertices()[Symbol.iterator](),y;!(h=(y=d.next()).done);h=true){var x=a(y.value,1);var g=x[0];if(t.hasEdge(v,g)){var p=true;var w=false;var k=undefined;try{for(var m=this.vertices()[Symbol.iterator](),E;!(p=(E=m.next()).done);p=true){var b=a(E.value,1);var _=b[0];if(t.hasPath(g,_))t.removeEdge(v,_)}}catch(V){w=true;k=V}finally{try{if(!p&&m["return"]){m["return"]()}}finally{if(w){throw k}}}}}}catch(V){c=true;l=V}finally{try{if(!h&&d["return"]){d["return"]()}}finally{if(c){throw l}}}}}catch(V){i=true;s=V}finally{try{if(!n&&u["return"]){u["return"]()}}finally{if(i){throw s}}}return t}},{key:"contractPaths",value:function ee(){var r=this;var t=arguments[0]===undefined?function(){return false}:arguments[0];var i=new Set([].concat(n(this.vertices())).filter(function(e){var n=a(e,2);var i=n[0];var s=n[1];return r.outDegree(i)!==1||r.inDegree(i)!==1||t(i,s)}).map(function(e){var r=a(e,1);var t=r[0];return t}));{var s;var u;var o;var f,v;(function(){var t=new Set([].concat(n(r.vertices())).map(function(e){var r=a(e,1);var t=r[0];return t}));var h=function g(e){if(!t.has(e)){return}t["delete"](e);var n=true;var i=false;var s=undefined;try{for(var u=r.verticesFrom(e)[Symbol.iterator](),o;!(n=(o=u.next()).done);n=true){var f=a(o.value,1);var v=f[0];g(v)}}catch(h){i=true;s=h}finally{try{if(!n&&u["return"]){u["return"]()}}finally{if(i){throw s}}}var c=true;var l=false;var d=undefined;try{for(var y=r.verticesTo(e)[Symbol.iterator](),x;!(c=(x=y.next()).done);c=true){var p=a(x.value,1);var v=p[0];g(v)}}catch(h){l=true;d=h}finally{try{if(!c&&y["return"]){y["return"]()}}finally{if(l){throw d}}}};s=true;u=false;o=undefined;try{for(f=i[Symbol.iterator]();!(s=(v=f.next()).done);s=true){var c=v.value;h(c)}}catch(l){u=true;o=l}finally{try{if(!s&&f["return"]){f["return"]()}}finally{if(u){throw o}}}if(t.size>0){var d=t.values().next().value,y=[],x=d;do{y.push(x);x=r.verticesFrom(x).next().value[0]}while(x!==d);throw new e.BranchlessCycleError(y)}})()}var h=new Map;var c=function Q(t,a){var s=arguments[2]===undefined?false:arguments[2];var u=function N(){var e=arguments[0]===undefined?t:arguments[0];var r=arguments[1]===undefined?a:arguments[1];return s?[r,e]:[e,r]};var o=function C(e){return s?r.verticesTo(e):r.verticesFrom(e)};var f=new Set;var v=new Set;var c=new e;c.addVertex(t,r.vertexValue(t));c.addVertex(a,r.vertexValue(a));c.addNewEdge.apply(c,n(u()).concat([r.edgeValue.apply(r,n(u()))]));v.add(u());var l=undefined;while(!i.has(a)){var d=[a,o(a).next().value[0]];l=d[0];a=d[1];c.addVertex(a,r.vertexValue(a));c.addNewEdge.apply(c,n(u(l,a)).concat([r.edgeValue.apply(r,n(u(l,a)))]));f.add(l);v.add(u(l,a))}if(!h.get(u()[0])){h.set(u()[0],new Map)}if(!h.get(u()[0]).get(u()[1])){h.get(u()[0]).set(u()[1],new e)}h.get(u()[0]).get(u()[1]).mergeIn(c);var y=true;var x=false;var g=undefined;try{for(var p=v[Symbol.iterator](),w;!(y=(w=p.next()).done);y=true){var k=w.value;r.removeExistingEdge.apply(r,n(k))}}catch(m){x=true;g=m}finally{try{if(!y&&p["return"]){p["return"]()}}finally{if(x){throw g}}}var E=true;var b=false;var _=undefined;try{for(var V=f[Symbol.iterator](),S;!(E=(S=V.next()).done);E=true){var k=S.value;r.destroyExistingVertex(k)}}catch(m){b=true;_=m}finally{try{if(!E&&V["return"]){V["return"]()}}finally{if(b){throw _}}}};var l=true;var d=false;var y=undefined;try{for(var x=i[Symbol.iterator](),g;!(l=(g=x.next()).done);l=true){var p=g.value;var w=true;var k=false;var m=undefined;try{for(var E=this.verticesFrom(p)[Symbol.iterator](),b;!(w=(b=E.next()).done);w=true){var _=a(b.value,1);var V=_[0];c(p,V,false)}}catch(S){k=true;m=S}finally{try{if(!w&&E["return"]){E["return"]()}}finally{if(k){throw m}}}var N=true;var C=false;var T=undefined;try{for(var R=this.verticesTo(p)[Symbol.iterator](),M;!(N=(M=R.next()).done);N=true){var F=a(M.value,1);var V=F[0];c(p,V,true)}}catch(S){C=true;T=S}finally{try{if(!N&&R["return"]){R["return"]()}}finally{if(C){throw T}}}}}catch(S){d=true;y=S}finally{try{if(!l&&x["return"]){x["return"]()}}finally{if(d){throw y}}}var P=true;var j=false;var A=undefined;try{for(var D=h[Symbol.iterator](),W;!(P=(W=D.next()).done);P=true){var z=a(W.value,2);var O=z[0];var I=z[1];var Y=true;var B=false;var G=undefined;try{for(var H=I[Symbol.iterator](),q;!(Y=(q=H.next()).done);Y=true){var J=a(q.value,2);var K=J[0];var L=J[1];this.addNewEdge(O,K,L)}}catch(S){B=true;G=S}finally{try{if(!Y&&H["return"]){H["return"]()}}finally{if(B){throw G}}}}}catch(S){j=true;A=S}finally{try{if(!P&&D["return"]){D["return"]()}}finally{if(j){throw A}}}}}]);return e}();r["default"]=o;o.VertexExistsError=function(e){function r(t,a){s(this,r);var n=new e;n.__proto__=r.prototype;n.vertices=new Set;n.v(t,a);return n}i(r,e);u(r,[{key:"v",value:function t(e,r){this.vertices.add({key:e,value:r});this._refreshMessage();return this}},{key:"_refreshMessage",value:function a(){var e=this.vertices.size===1?"a vertex":"vertices";this.message="This graph has "+e+" '"+[].concat(n(this.vertices)).map(function(e){return e.key}).join("', '")+"'"}}]);return r}(Error);o.VertexNotExistsError=function(e){function r(t){s(this,r);var a=new e;a.__proto__=r.prototype;a.vertices=new Set;a.v(t);return a}i(r,e);u(r,[{key:"v",value:function t(e){this.vertices.add({key:e});this._refreshMessage();return this}},{key:"_refreshMessage",value:function a(){var e=this.vertices.size===1?"a vertex":"vertices";this.message="This graph does not have "+e+" '"+[].concat(n(this.vertices)).map(function(e){return e.key}).join("', '")+"'"}}]);return r}(Error);o.EdgeExistsError=function(e){function r(t,a,n){s(this,r);var i=new e;i.__proto__=r.prototype;i.edges=new Set;i.e(t,a,n);return i}i(r,e);u(r,[{key:"e",value:function t(e,r,a){this.edges.add({from:e,to:r,value:a});this._refreshMessage();return this}},{key:"_refreshMessage",value:function a(){var e=[];var r=true;var t=false;var a=undefined;try{for(var n=this.edges[Symbol.iterator](),i;!(r=(i=n.next()).done);r=true){var s=i.value;var u=s.from;var o=s.to;e.push("('"+u+"', '"+o+"')")}}catch(f){t=true;a=f}finally{try{if(!r&&n["return"]){n["return"]()}}finally{if(t){throw a}}}var v=e.length===1?"an edge":"edges";this.message="This graph has "+v+" "+e.join(", ")}}]);return r}(Error);o.EdgeNotExistsError=function(e){function r(t,a){s(this,r);var n=new e;n.__proto__=r.prototype;n.edges=new Set;n.e(t,a);return n}i(r,e);u(r,[{key:"e",value:function t(e,r){this.edges.add({from:e,to:r});this._refreshMessage();return this}},{key:"_refreshMessage",value:function a(){var e=[];var r=true;var t=false;var a=undefined;try{for(var n=this.edges[Symbol.iterator](),i;!(r=(i=n.next()).done);r=true){var s=i.value;var u=s.from;var o=s.to;e.push("('"+u+"', '"+o+"')")}}catch(f){t=true;a=f}finally{try{if(!r&&n["return"]){n["return"]()}}finally{if(t){throw a}}}var v=e.length===1?"an edge":"edges";this.message="This graph does not have "+v+" "+e.join(", ")}}]);return r}(Error);o.HasConnectedEdgesError=function(e){function r(t){s(this,r);var a=new e;a.__proto__=r.prototype;a.key=t;a.message="The '"+t+"' vertex has connected edges";return a}i(r,e);return r}(Error);o.CycleError=function(e){function r(t){s(this,r);var a=new e;a.__proto__=r.prototype;a.cycle=t;a.message="This graph contains a cycle: "+t;return a}i(r,e);return r}(Error);o.BranchlessCycleError=function(e){function r(t){s(this,r);var a=new e;a.__proto__=r.prototype;a.cycle=t;a.message="This graph contains a branch-less cycle: "+t;return a}i(r,e);return r}(Error);e.exports=r["default"]}])});
//# sourceMappingURL=dist/graph.min.js.map